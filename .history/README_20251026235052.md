# üîê Kyber Quantum-Safe DHT Messaging System

A comprehensive Streamlit frontend that fully visualizes a Distributed Hash Table (DHT) system integrated with CRYSTALS-Kyber post-quantum cryptography for secure messaging.

## üåü Features

### üîí Quantum-Safe Encryption
- **CRYSTALS-Kyber** implementation (NIST PQC Standard)
- Post-quantum security based on Module Learning With Errors (M-LWE)
- Military-grade encryption resistant to quantum computer attacks

### üåê Distributed Hash Table (DHT)
- **Ciphertext Splitting**: Messages split into 3 parts for enhanced security
- **Auto-Expiring Storage**: DHT entries automatically expire after 5 minutes
- **Real-time Monitoring**: Live visualization of DHT operations and performance

### üìä Comprehensive Visualization
- **Interactive Charts**: Performance metrics, operation distribution, entry lifecycle
- **Network Topology**: Visual representation of DHT nodes and connections
- **Real-time Analytics**: Live updates with configurable refresh intervals
- **Enhanced Logging**: Detailed operation logs with filtering and statistics

### üé® Modern UI
- **Dark Theme**: Cyberpunk-inspired interface with neon accents
- **Responsive Design**: Optimized for desktop and mobile viewing
- **Interactive Elements**: Hover effects, animations, and smooth transitions

## üöÄ Quick Start

### Prerequisites
- Python 3.8+
- pip package manager

### Installation & Launch

1. **Clone/Download** the repository
2. **Install dependencies**:
   ```bash
   pip install -r requirements.txt
   ```
3. **Launch the application**:
   ```bash
   ./run.sh
   ```
   Or manually:
   ```bash
   streamlit run kyber2.py
   ```

4. **Open your browser** to `http://localhost:8501`

## üì± Usage Guide

### 1. User Authentication
- Enter a username and click "LOGIN"
- System automatically generates Kyber keypair for new users
- Public keys are shareable for receiving encrypted messages

### 2. Secure Messaging
- Select a recipient from the dropdown
- Type your message (max 32 bytes)
- Click "ENCRYPT & SEND VIA DHT"
- Message is encrypted, split, and routed through DHT

### 3. DHT Visualization
Navigate to the "üåê DHT Visualization" tab to see:

#### üìà Interactive Analytics
- **Performance Chart**: Real-time entry count and data size over time
- **Operation Distribution**: Pie chart showing PUT/GET/DELETE/RESET operations
- **Entry Lifecycle**: Timeline showing when entries are created and expire
- **Network Topology**: Visual network graph of DHT nodes

#### üìä Enhanced Monitoring
- **Status Cards**: Active entries, TTL countdown, data size, average age
- **Entry Table**: Sortable table with detailed entry information
- **Operation Logs**: Filterable logs with statistics and performance metrics
- **Auto-refresh**: Configurable real-time updates (1-10 second intervals)

### 4. Message Management
- **Send Messages**: Encrypted and routed through DHT
- **Receive Messages**: Decrypt using your private key
- **Message Vault**: View all sent/received messages
- **Technical Details**: Expandable cryptographic analysis

## üîß Technical Architecture

### Cryptographic Parameters
- **Ring Dimension (N)**: 256
- **Modulus (q)**: 3329
- **Module Rank (k)**: 2
- **Noise Parameter (Œ∑)**: 3
- **Security Level**: NIST Level 1 (~128 bits equivalent)

### DHT Implementation
- **Storage**: In-memory hash table with TTL
- **Auto-reset**: Periodic cleanup every 5 minutes
- **Thread-safe**: Concurrent access with locks
- **Analytics**: Comprehensive performance tracking

### Ciphertext Splitting
1. **Part 1**: First half of u vectors (stored locally)
2. **Part 2**: Second half of u + partial v (stored in DHT)
3. **Part 3**: Remaining v vector (stored locally)

## üõ°Ô∏è Security Features

### Post-Quantum Security
- Resistant to Shor's algorithm and quantum attacks
- Based on mathematical hardness of Module-LWE problem
- NIST-standardized encryption algorithm

### Enhanced Privacy
- **Fragment Distribution**: No single location holds complete ciphertext
- **Transient Storage**: DHT auto-expires entries after 5 minutes
- **Zero-Knowledge**: Private keys never leave the client session

### Operational Security
- **Automatic Cleanup**: Regular DHT resets prevent data accumulation
- **Access Control**: User authentication required for all operations
- **Audit Trail**: Comprehensive logging of all DHT operations

## üìä Visualization Components

### Performance Charts
- **Time Series**: Entry count and data size over time
- **Dual Y-Axis**: Separate scales for entries and data size
- **Interactive**: Zoom, pan, and hover for detailed information

### Network Topology
- **Circular Layout**: Nodes arranged in a circle for clear visualization
- **Size Encoding**: Node size represents data size
- **Color Coding**: Green for active, red for expiring entries
- **Connection Lines**: Visual links between related entries

### Operation Analytics
- **Pie Charts**: Distribution of PUT/GET/DELETE/RESET operations
- **Success Rates**: Tracking of successful vs failed operations
- **Performance Metrics**: Response times and throughput analysis

## üî¨ Advanced Features

### Real-time Monitoring
- **Auto-refresh**: Configurable update intervals
- **Live Statistics**: Real-time performance metrics
- **Alert System**: Visual indicators for expiring entries

### Data Analysis
- **Entry Lifecycle**: Complete timeline of entry creation and expiration
- **Performance History**: Historical data for trend analysis
- **Statistical Summaries**: Comprehensive operation statistics

### User Experience
- **Responsive Design**: Works on desktop and mobile devices
- **Dark Theme**: Easy on the eyes for extended monitoring
- **Intuitive Navigation**: Clear tab structure and logical flow

## üö® Important Notes

- **Message Expiry**: Messages expire after 5 minutes when DHT resets
- **Decrypt Promptly**: Decrypt messages before expiry or they're lost forever
- **Private Key Security**: Private keys never leave your session
- **Client-side Encryption**: All encryption happens locally

## üîß Configuration

### DHT Settings
- **Reset Interval**: Default 300 seconds (5 minutes)
- **TTL**: Configurable per entry
- **Max Entries**: Limited by available memory

### Visualization Settings
- **Refresh Rate**: 1-10 seconds for auto-refresh
- **Chart History**: Last 100 performance points
- **Log Retention**: Configurable log count (5-50 entries)

## üìà Performance Metrics

The system tracks comprehensive metrics including:
- Total PUT/GET/DELETE/RESET operations
- Success/failure rates for GET operations
- Peak entry counts and data storage
- Average entry age and lifecycle duration
- Real-time performance trends

## üéØ Use Cases

- **Educational**: Learn about post-quantum cryptography and DHT systems
- **Research**: Study performance characteristics of distributed storage
- **Development**: Test and prototype secure messaging systems
- **Demonstration**: Showcase quantum-safe encryption capabilities

## üîÆ Future Enhancements

- **Multi-node DHT**: Distributed across multiple servers
- **Advanced Topology**: More sophisticated network visualization
- **Performance Optimization**: Enhanced caching and compression
- **Mobile App**: Native mobile application with push notifications

---

**‚ö†Ô∏è Disclaimer**: This is an educational implementation for demonstration purposes. For production use, ensure proper security audits and use established cryptographic libraries.
